---
import type { GetStaticPaths } from "astro";
import { getI18n } from "../../i18n";
import Layout from "../../layouts/Layout.astro";
import Contact from "../../modules/contact/Contact.astro";
import HowItWorks from "../../modules/how-it-works/index.astro";
import Services from "../../modules/services/index.astro";
import TopHero from "../../modules/TopHero.astro";
import WhatWeDo from "../../modules/what-we-do/index.astro";

export const prerender = true;

export const getStaticPaths = (() => {
  return [
    {
      params: {
        lang: "en",
      },
    },
    {
      params: {
        lang: "es",
      },
    },
  ];
}) satisfies GetStaticPaths;

const { lang } = Astro.params;

const i18n = getI18n({ currentLocale: lang });

const tHome = i18n.home;
const tDefault = i18n.default;
---

<Layout>
  <TopHero tHero={tHome.hero} tSrOnly={tHome.sr_only} />
  <WhatWeDo tWhatWeDo={tHome.what_we_do} />
  <HowItWorks tHowItWorks={tHome.how_it_works} />
  <Services tServices={tHome.services} />
  <Contact tContact={tHome.contact} tDefault={tDefault} />
</Layout>
